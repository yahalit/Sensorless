function v2 = RotateVecByQuat ( q1 , v1)
    q3(1) = -q1(2)*v1(1) - q1(3)*v1(2) - q1(4) * v1(3) ;
    q3(2) =  q1(1)*v1(1) + q1(3)*v1(3) - q1(4) * v1(2) ;
    q3(3) =  q1(1)*v1(2) + q1(4)*v1(1) - q1(2) * v1(3) ;
    q3(4) =  q1(1)*v1(3) + q1(2)*v1(2) - q1(3) * v1(1) ;

    v2(1) = -q3(1)*q1(2) + q3(2)*q1(1) - q3(3)*q1(4) + q3(4) * q1(3) ;
    v2(2) = -q3(1)*q1(3) + q3(3)*q1(1) - q3(4)*q1(2) + q3(2) * q1(4) ;
    v2(3) = -q3(1)*q1(4) + q3(4)*q1(1) - q3(2)*q1(3) + q3(3) * q1(2) ;
end 
